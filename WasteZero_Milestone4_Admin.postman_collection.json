{
  "info": {
    "name": "WasteZero Admin API (Milestone 4)",
    "description": "Collection for testing WasteZero backend admin APIs: overview, user management, opportunity moderation, reports, and logs",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Admin Overview Dashboard",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{admin_token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "http://localhost:5000/api/admin/overview",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api", "admin", "overview"]
        },
        "description": "Fetch admin dashboard summary: users, NGOs, volunteers, opportunities."
      },
      "response": []
    },
    {
      "name": "Get All Users (Admin)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{admin_token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "http://localhost:5000/api/admin/users",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api", "admin", "users"]
        },
        "description": "Fetch all users. Admin-only."
      },
      "response": []
    },
    {
      "name": "Get Users (Filter by Role & Status)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{admin_token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "http://localhost:5000/api/admin/users?role=volunteer&status=active",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api", "admin", "users"],
          "query": [
            { "key": "role", "value": "volunteer" },
            { "key": "status", "value": "active" }
          ]
        },
        "description": "Fetch users filtered by role and status."
      },
      "response": []
    },
    {
      "name": "Update User Status (Suspend / Activate)",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{admin_token}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"status\": \"suspended\"\n}"
        },
        "url": {
          "raw": "http://localhost:5000/api/admin/users/{{user_id}}/status",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api", "admin", "users", "{{user_id}}", "status"]
        },
        "description": "Suspend or activate a user account. Admin-only."
      },
      "response": []
    },
    {
      "name": "Get All Opportunities (Admin)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{admin_token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "http://localhost:5000/api/admin/opportunities",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api", "admin", "opportunities"]
        },
        "description": "Fetch all opportunities for moderation."
      },
      "response": []
    },
    {
      "name": "Delete Opportunity (Admin Override)",
      "request": {
        "method": "DELETE",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{admin_token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "http://localhost:5000/api/admin/opportunities/{{opportunityId}}",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api", "admin", "opportunities", "{{opportunityId}}"]
        },
        "description": "Delete an opportunity using admin privileges."
      },
      "response": []
    },
    {
      "name": "Generate Reports (Analytics)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{admin_token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "http://localhost:5000/api/admin/reports",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api", "admin", "reports"]
        },
        "description": "Fetch analytics reports: user growth, opportunities, participation."
      },
      "response": []
    },
    {
      "name": "Get Admin Activity Logs",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{admin_token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "http://localhost:5000/api/admin/logs",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api", "admin", "logs"]
        },
        "description": "Fetch recent admin activity logs (audit trail)."
      },
      "response": []
    }
  ],
  "variable": [
    {
      "key": "admin_token",
      "value": "",
      "type": "string",
      "description": "JWT token of admin user."
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string",
      "description": "User ID to suspend or activate."
    },
    {
      "key": "opportunityId",
      "value": "",
      "type": "string",
      "description": "Opportunity ID for admin moderation."
    }
  ]
}
